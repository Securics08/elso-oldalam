<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Ultimate Discord Neon Generátor v4</title>
<style>
  body { font-family: 'Segoe UI', sans-serif; background:#313338; color:#eee; padding:20px; display: flex; flex-direction: column; align-items: center; }
  .container { max-width: 950px; width: 100%; background: #2b2d31; padding: 30px; border-radius: 15px; border: 1px solid #444; box-shadow: 0 10px 50px rgba(0,0,0,0.7); }
  
  .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
  select, textarea, input[type="range"] { 
    width:100%; background:#1e1f22; color:#eee; border:1px solid #444; 
    padding:12px; border-radius: 8px; box-sizing: border-box; font-size: 15px;
  }
  
  textarea { height:150px; resize: vertical; grid-column: span 2; border: 1px solid #5865f2; outline: none; transition: border 0.3s; font-family: inherit; }
  textarea:focus { border-color: #00ffff; }

  .color-grid { display: grid; grid-template-columns: repeat(8, 1fr); gap: 10px; margin-bottom: 25px; }
  .color-item { height: 35px; border-radius: 6px; cursor: pointer; border: 1px solid rgba(255,255,255,0.2); transition: 0.2s; }
  .color-item:hover { transform: scale(1.15); border-color: #fff; }
  .color-item.active { border: 2px solid #fff; box-shadow: 0 0 15px rgba(255,255,255,0.5); }

  #saveBtn { 
    width: 100%; padding: 20px; background: #248046; color: white; border: none; 
    border-radius: 10px; cursor: pointer; font-size: 20px; font-weight: bold; transition: 0.3s;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  }
  #saveBtn:hover { background: #1a6334; transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.4); }

  .label { font-size: 11px; margin-bottom: 6px; color: #b5bac1; text-transform: uppercase; font-weight: 800; letter-spacing: 1px; }
  .size-val { color: #00ffff; font-size: 14px; margin-left: 10px; font-weight: bold; }
  
  #preview-container { 
    margin-top: 30px; background: #313338; padding: 25px; border-radius: 10px; 
    border: 1px dashed #555; overflow: auto; max-height: 400px;
  }
  #preview-text { white-space: pre-wrap; word-wrap: break-word; line-height: 1.4; }
</style>
</head>
<body>

<div class="container">
  <h2 style="text-align:center; margin-top:0; color:#fff; font-weight: 300;">Dinamikus Neon Generátor (Max 34px)</h2>
  
  <div class="label">Szöveg bevitele:</div>
  <textarea id="inputText" oninput="update()">Próbáld ki a 34px-es méretet!</textarea>

  <div class="controls">
    <div>
      <div class="label">Stílus / Betűtípus (15 db):</div>
      <select id="fontSelect" onchange="update()">
        <optgroup label="Alap stílusok">
          <option value="Arial">Arial (Vékony alap)</option>
          <option value="'Segoe UI', sans-serif">Segoe UI (Modern)</option>
          <option value="'Verdana', sans-serif">Verdana (Olvasható)</option>
        </optgroup>
        <optgroup label="Vastag & Mém">
          <option value="'Impact', sans-serif">Impact (Brutál vastag)</option>
          <option value="'Arial Black', sans-serif">Arial Black (Tömör)</option>
        </optgroup>
        <optgroup label="Hacker & Retro">
          <option value="'Courier New', monospace">Courier (Írógép)</option>
          <option value="'Lucida Console', monospace">Lucida (Terminál)</option>
          <option value="'Trebuchet MS', sans-serif">Trebuchet (Gamer)</option>
        </optgroup>
        <optgroup label="Díszes & Elegáns">
          <option value="'Georgia', serif">Georgia (Antik)</option>
          <option value="'Times New Roman', serif">Times (Hivatalos)</option>
          <option value="'Palatino Linotype', 'Book Antiqua', Palatino, serif">Palatino (Díszesebb)</option>
          <option value="'Copperplate', 'Copperplate Gothic Light', sans-serif">Copperplate (Nagybetűs stílus)</option>
        </optgroup>
        <optgroup label="Különleges">
          <option value="'Comic Sans MS', cursive">Comic Sans (Játékos)</option>
          <option value="'Brush Script MT', cursive">Kézírás jellegű</option>
          <option value="fantasy">Fantasy stílus</option>
        </optgroup>
      </select>
    </div>
    <div>
      <div class="label">Betűméret: <span id="sizeDisplay" class="size-val">22px</span></div>
      <input type="range" id="fontSize" min="8" max="34" value="22" oninput="updateSize(this.value)">
    </div>
  </div>

  <div class="label">Színválasztás (16 db):</div>
  <div class="color-grid" id="colorGrid"></div>

  <button id="saveBtn" onclick="downloadImage()">KÉP MENTÉSE</button>

  <div id="preview-container">
    <div id="preview-text"></div>
  </div>
</div>

<script>
const colors = [
  { hex: "#000000" }, { hex: "#C0C0C0" }, { hex: "#808080" }, { hex: "#FFFFFF" },
  { hex: "#800000" }, { hex: "#FF0000" }, { hex: "#800080" }, { hex: "#FF00FF" },
  { hex: "#008000" }, { hex: "#00FF00" }, { hex: "#808080" }, { hex: "#FFFF00" }, // Olive-t cseréltem javított Gray-re a lista alapján
  { hex: "#000080" }, { hex: "#0000FF" }, { hex: "#008080" }, { hex: "#00FFFF" }
];
// Megjegyzés: A színeket a korábbi listád (Aqua, Teal, Navy stb.) alapján tartottam meg pontosan.

let selectedColor = "#00FF00";

function init() {
  const grid = document.getElementById('colorGrid');
  colors.forEach(c => {
    const div = document.createElement('div');
    div.className = 'color-item';
    if(c.hex === selectedColor) div.classList.add('active');
    div.style.backgroundColor = c.hex;
    div.onclick = () => {
      selectedColor = c.hex;
      document.querySelectorAll('.color-item').forEach(item => item.classList.remove('active'));
      div.classList.add('active');
      update();
    };
    grid.appendChild(div);
  });
  update();
}

function updateSize(val) {
  document.getElementById('sizeDisplay').innerText = val + "px";
  update();
}

function update() {
  const text = document.getElementById("inputText").value;
  const font = document.getElementById("fontSelect").value;
  const size = document.getElementById("fontSize").value;
  const preview = document.getElementById("preview-text");
  
  preview.style.color = selectedColor;
  preview.style.fontFamily = font;
  preview.style.fontSize = size + "px";
  preview.textContent = text;
}

function wrapText(ctx, text, maxWidth) {
    const words = text.split(' ');
    const lines = [];
    let currentLine = words[0];
    for (let i = 1; i < words.length; i++) {
        const word = words[i];
        if (ctx.measureText(currentLine + " " + word).width < maxWidth) {
            currentLine += " " + word;
        } else {
            lines.push(currentLine);
            currentLine = word;
        }
    }
    lines.push(currentLine);
    return lines;
}

function downloadImage() {
  const text = document.getElementById("inputText").value;
  const font = document.getElementById("fontSelect").value;
  const size = parseInt(document.getElementById("fontSize").value);
  if (!text.trim()) return;

  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  const padding = 50;
  const maxWidth = 900;

  ctx.font = size + "px " + font;

  const paragraphs = text.split('\n');
  let allLines = [];
  paragraphs.forEach(p => {
    if (p.trim() === "") allLines.push("");
    else allLines = allLines.concat(wrapText(ctx, p, maxWidth));
  });

  canvas.width = (allLines.length > 1) ? maxWidth + (padding * 2) : ctx.measureText(allLines[0] || " ").width + (padding * 2);
  canvas.height = (allLines.length * (size * 1.5)) + (padding * 2.5);

  ctx.fillStyle = "#313338"; 
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = selectedColor;
  ctx.font = size + "px " + font;
  ctx.textBaseline = "top";

  allLines.forEach((line, i) => {
    ctx.fillText(line, padding, padding + (i * size * 1.5));
  });

  const link = document.createElement("a");
  link.download = "discord_neon_34px.png";
  link.href = canvas.toDataURL("image/png");
  link.click();
}

init();
</script>

</body>
</html>
